function [P,dPdxi]=orthogonalPolynomialsAndDerivatives1D(degree,Xi)

x = Xi;
U = ones(size(x));
O = zeros(size(x));

switch degree
    case 1
        P = [U x];
        dPdxi = [O U];
    case 2
        P = [U, x, -U/2+(3/2)*x.^2];
        dPdxi = [O, U, 3*x];
    case 3
        P = [U, x, -U/2+(3/2)*x.^2, (5/2)*x.^3-x*3/2];
        dPdxi = [O, U, 3*x, (15/2)*x.^2-U*3/2];
    case 4
        P = [U, x, -U/2+(3/2)*x.^2, (5/2)*x.^3-x*3/2, U*3/8+(35/8)*x.^4-(15/4)*x.^2];
        dPdxi = [O, U, 3*x, (15/2)*x.^2-U*3/2, (35/2)*x.^3-(15/2)*x];
    case 5
        P = [U, x, -U/2+(3/2)*x.^2, (5/2)*x.^3-x*3/2, U*3/8+(35/8)*x.^4-(15/4)*x.^2, (63/8)*x.^5-(35/4)*x.^3+(15/8)*x];
        dPdxi = [O, U, 3*x, (15/2)*x.^2-U*3/2, (35/2)*x.^3-(15/2)*x, (315/8)*x.^4-(105/4)*x.^2+15/8];
    case 6
        P = [U, x, -U/2+(3/2)*x.^2, (5/2)*x.^3-x*3/2, U*3/8+(35/8)*x.^4-(15/4)*x.^2, (63/8)*x.^5-(35/4)*x.^3+(15/8)*x, -5/16+(231/16)*x.^6-(315/16)*x.^4+(105/16)*x.^2];
        dPdxi = [O, U, 3*x, (15/2)*x.^2-U*3/2, (35/2)*x.^3-(15/2)*x, (315/8)*x.^4-(105/4)*x.^2+15/8, (693/8)*x.^5-(315/4)*x.^3+(105/8)*x ];
    case 7
        P = [U, x, -U/2+(3/2)*x.^2, (5/2)*x.^3-x*3/2, U*3/8+(35/8)*x.^4-(15/4)*x.^2, (63/8)*x.^5-(35/4)*x.^3+(15/8)*x, -5/16+(231/16)*x.^6-(315/16)*x.^4+(105/16)*x.^2, (429/16)*x.^7-(693/16)*x.^5+(315/16)*x.^3-(35/16)*x];
        dPdxi = [O, U, 3*x, (15/2)*x.^2-U*3/2, (35/2)*x.^3-(15/2)*x, (315/8)*x.^4-(105/4)*x.^2+15/8, (693/8)*x.^5-(315/4)*x.^3+(105/8)*x,(3003/16)*x.^6-(3465/16)*x.^4+(945/16)*x.^2-U*35/16];
    case 8
        P = [U, x, -U/2+(3/2)*x.^2, (5/2)*x.^3-x*3/2, U*3/8+(35/8)*x.^4-(15/4)*x.^2, (63/8)*x.^5-(35/4)*x.^3+(15/8)*x, -5/16+(231/16)*x.^6-(315/16)*x.^4+(105/16)*x.^2, (429/16)*x.^7-(693/16)*x.^5+(315/16)*x.^3-(35/16)*x,35/128+(6435/128)*x.^8-(3003/32)*x.^6+(3465/64)*x.^4-(315/32)*x.^2];
        dPdxi = [O, U, 3*x, (15/2)*x.^2-U*3/2, (35/2)*x.^3-(15/2)*x, (315/8)*x.^4-(105/4)*x.^2+15/8, (693/8)*x.^5-(315/4)*x.^3+(105/8)*x,(3003/16)*x.^6-(3465/16)*x.^4+(945/16)*x.^2-U*35/16,(6435/16)*x.^7-(9009/16)*x.^5+(3465/16)*x.^3-(315/16)*x];
    case 9
        P = [U, x, -U/2+(3/2)*x.^2, (5/2)*x.^3-x*3/2, U*3/8+(35/8)*x.^4-(15/4)*x.^2, (63/8)*x.^5-(35/4)*x.^3+(15/8)*x, -5/16+(231/16)*x.^6-(315/16)*x.^4+(105/16)*x.^2, (429/16)*x.^7-(693/16)*x.^5+(315/16)*x.^3-(35/16)*x,35/128+(6435/128)*x.^8-(3003/32)*x.^6+(3465/64)*x.^4-(315/32)*x.^2,(12155/128)*x.^9-(6435/32)*x.^7+(9009/64)*x.^5-(1155/32)*x.^3+(315/128)*x];
        dPdxi = [O, U, 3*x, (15/2)*x.^2-U*3/2, (35/2)*x.^3-(15/2)*x, (315/8)*x.^4-(105/4)*x.^2+15/8, (693/8)*x.^5-(315/4)*x.^3+(105/8)*x,(3003/16)*x.^6-(3465/16)*x.^4+(945/16)*x.^2-U*35/16,(6435/16)*x.^7-(9009/16)*x.^5+(3465/16)*x.^3-(315/16)*x, (109395/128)*x.^8-(45045/32)*x.^6+(45045/64)*x.^4-(3465/32)*x.^2+U*315/128];
    case 10
        P = [U, x, -U/2+(3/2)*x.^2, (5/2)*x.^3-x*3/2, U*3/8+(35/8)*x.^4-(15/4)*x.^2, (63/8)*x.^5-(35/4)*x.^3+(15/8)*x, -5/16+(231/16)*x.^6-(315/16)*x.^4+(105/16)*x.^2, (429/16)*x.^7-(693/16)*x.^5+(315/16)*x.^3-(35/16)*x,35/128+(6435/128)*x.^8-(3003/32)*x.^6+(3465/64)*x.^4-(315/32)*x.^2,(12155/128)*x.^9-(6435/32)*x.^7+(9009/64)*x.^5-(1155/32)*x.^3+(315/128)*x, -63/256+(46189/256)*x.^10-(109395/256)*x.^8+(45045/128)*x.^6-(15015/128)*x.^4+(3465/256)*x.^2];
        dPdxi = [O, U, 3*x, (15/2)*x.^2-U*3/2, (35/2)*x.^3-(15/2)*x, (315/8)*x.^4-(105/4)*x.^2+15/8, (693/8)*x.^5-(315/4)*x.^3+(105/8)*x,(3003/16)*x.^6-(3465/16)*x.^4+(945/16)*x.^2-U*35/16,(6435/16)*x.^7-(9009/16)*x.^5+(3465/16)*x.^3-(315/16)*x, (109395/128)*x.^8-(45045/32)*x.^6+(45045/64)*x.^4-(3465/32)*x.^2+U*315/128, (230945/128)*x.^9-(109395/32)*x.^7+(135135/64)*x.^5-(15015/32)*x.^3+(3465/128)*x];
    otherwise
        nOfPoints=length(x); P=zeros(nOfPoints,degree+1);
        for i=1:nOfPoints
            [p,dp] = orthopoly1D_deriv(x(i),degree);
            P(i,:)=p'; dPdxi(i,:)=dp';
        end
end

